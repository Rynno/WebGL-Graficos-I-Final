<!DOCTYPE html>
<html>
  <head>
    <title>Proyecto Final - Gr&aacute;ficos I</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/StyleSheet.css"/>
    <link rel="stylesheet" href="slider/css/slider.css">
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/twgl-full.min.js"></script>
    <script type="text/javascript" src="js/chroma.min.js"></script> 
    <script type="text/javascript" src="slider/js/bootstrap-slider.js"></script>

    <style type="text/css">
      #ex1Slider .slider-selection {
          background: #BABABA;
      }
    </style>

    <script id="vs" type="notjs">
        uniform mat4 u_worldViewProjection;
        uniform vec3 u_lightWorldPos;
        uniform mat4 u_world;
        uniform mat4 u_viewInverse;
        uniform mat4 u_worldInverseTranspose;

        attribute vec4 a_position;
        attribute vec3 a_normal;
        attribute vec2 a_texcoord;

        varying vec4 v_position;
        varying vec2 v_texCoord;
        varying vec3 v_normal;
        varying vec3 v_surfaceToLight;
        varying vec3 v_surfaceToView;

        void main() {
            v_texCoord = a_texcoord;
            v_position = (u_worldViewProjection * a_position);
            v_normal = (u_worldInverseTranspose * vec4(a_normal, 0)).xyz;
            v_surfaceToLight = u_lightWorldPos - (u_world * a_position).xyz;
            v_surfaceToView = (u_viewInverse[3] - (u_world * a_position)).xyz;
            gl_Position = v_position;
        }
    </script>

    <script id="fs" type="notjs">
        precision mediump float;
        varying vec4 v_position;
        varying vec2 v_texCoord;
        varying vec3 v_normal;
        varying vec3 v_surfaceToLight;
        varying vec3 v_surfaceToView;

        uniform vec4 u_lightColor;
        uniform vec4 u_diffuseMult;
        uniform sampler2D u_diffuse;
        uniform vec4 u_specular;
        uniform float u_shininess;
        uniform float u_specularFactor;

        vec4 lit(float l ,float h, float m) {
            return vec4(1.0,
                        abs(l),//max(l, 0.0),
                        (l > 0.0) ? pow(max(0.0, h), m) : 0.0,
                        1.0);
        }

        void main() {
            vec4 diffuseColor = texture2D(u_diffuse, v_texCoord) * u_diffuseMult;
            vec3 a_normal = normalize(v_normal);
            vec3 surfaceToLight = normalize(v_surfaceToLight);
            vec3 surfaceToView = normalize(v_surfaceToView);
            vec3 halfVector = normalize(surfaceToLight + surfaceToView);
            vec4 litR = lit(dot(a_normal, surfaceToLight),
                              dot(a_normal, halfVector), u_shininess);
            vec4 outColor = vec4((
            u_lightColor * (diffuseColor * litR.y +
                          u_specular * litR.z * u_specularFactor)).rgb,
                diffuseColor.a);
            gl_FragColor = outColor;
        }
    </script>
  </head>

  <body>
    <header>
        <p id="title">Proyecto Final</p>
        <p id="materia">Gr&aacute;ficos por Computadora I</p>
    </header>

    <nav id="menu"></nav>  

    <canvas id="c">
        Â¡Este navegador no soporta WebGL!
    </canvas>

    <section id="operaciones">
      <h1>Operaciones</h1>
            <div>
                Seleccione una operaci&oacute;n a realizar:<br>
                <select name="operation">
                    <option value="t">Trasladar</option>
                    <option value="r">Rotar</option>
                    <option value="e">Escalar</option>
                </select> 
                <br><br>
            </div>
            <div>
                Seleccione una figura:<br>
                <select name="figura">
                    <option value="2">Cubo</option>
                    <option value="3">Esfera</option>
                    <option value="4">Toroide</option>
					<option value="5">Piramide</option>
                </select> 
                <br><br>
            </div>
            <div>
                Ejes:<br>
                <span>X</span>
                <input id="sliderX" data-slider-id='ex1Slider' type="text" data-last="0" data-slider-min="-15" data-slider-max="10" data-slider-step="0.25" data-slider-value="1"/><br>
                <span>Y</span>
                <input id="sliderY" data-slider-id='ex1Slider' type="text" data-last="0" data-slider-min="-15" data-slider-max="10" data-slider-step="0.25" data-slider-value="1"/><br>
                <span>Z</span>
                <input id="sliderZ" data-slider-id='ex1Slider' type="text" data-last="0" data-slider-min="-15" data-slider-max="10" data-slider-step="0.25" data-slider-value="1"/><br>
				<br>				
				<input type="submit" onClick="JavaScript:rotarsobrecilindro()" value="Animacion">
				<input type="submit" onClick="JavaScript:deteneranimacion()" value="Stop Animacion">
				<br>				
				<h3>
				Movimiento de la camara
				
				<p>TECLAS DIRECCIONALES</p>
            </div>
    </section>

    <footer>
        <div><small>ESPOL | Charlie Medina - Ronny Mor&aacute;n | 2015</small></div>
    </footer>  
  </body>
</html>
